(function(){"use strict";var t={8311:function(t,e,n){n(4391);var i=n(4398),s=(n(2406),n(9864)),a=(n(1611),n(7061)),o=(n(3970),n(140)),r=(n(3255),n(797)),l=(n(4920),n(8848)),u=(n(3096),n(2628)),c=(n(4072),n(9245)),v=(n(6758),n(4639)),h=(n(2210),n(4159)),f=(n(2685),n(7165)),m=(n(8618),n(5705)),d=(n(9649),n(1765)),p=(n(5728),n(9387)),g=(n(6268),n(1957)),_=(n(9578),n(6631)),b=(n(7983),n(4269)),Z=n(6369),w=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},x=[],y={},P=y,k=n(1001),C=(0,k.Z)(P,w,x,!1,null,null,null),O=C.exports,j=n(2631),S=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"账号登陆","left-arrow":""}}),e("van-form",{on:{submit:t.onSubmit}},[e("van-cell-group",{attrs:{inset:""}},[e("van-field",{attrs:{name:"username",placeholder:"请输入账号",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("van-field",{attrs:{type:"password",name:"password",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{attrs:{block:"",size:"large",type:"primary","native-type":"submit"}},[t._v(" 登  陆 ")])],1),e("a",{staticClass:"register",attrs:{href:""}},[t._v("还没有账号,去注册~")])],1)],1)},$=[],L=(n(7658),n(70));const F="HKZF_TOKEN",I=()=>localStorage.getItem(F),T=t=>{localStorage.setItem(F,t)},q=()=>{localStorage.removeItem(F)},z=L.ZP.create({baseURL:"http://liufusong.top:8080",timeout:5e3});z.interceptors.request.use((t=>{const e=I();return e&&(t.headers.authorization=e),t}),(t=>Promise.reject(t))),z.interceptors.response.use((t=>("账号登录成功"===t.data.description&&l.Z.success({message:"登陆成功",forbidClick:!0}),t)),(t=>(5e3===t.config.timeout&&l.Z.fail({message:"登陆超时请稍后重试",forbidClick:!0}),Promise.reject(t))));var E=z;const K=t=>E.post("/user/login",t),H=t=>E.get("/user");var M={methods:{async onSubmit(t){const e=await K(t);this.$router.push("/home/my"),T(e.data.body.token)}},data(){return{username:"",password:""}}},N=M,R=(0,k.Z)(N,S,$,!1,null,null,null),U=R.exports,A=function(){var t=this;t._self._c;return t._m(0)},B=[function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")]),e("h1",[t._v("找房")])])}],D={},G=D,J=(0,k.Z)(G,A,B,!1,null,null,null),Q=J.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ccc"},[e("van-search",{attrs:{placeholder:"请输入小区或地址",label:"上海",background:"#fff0","show-action":""},scopedSlots:t._u([{key:"action",fn:function(){return[e("div",[e("i",{staticClass:"iconfont icon-ditu",staticStyle:{color:"white","font-size":"24px"}})])]},proxy:!0}]),model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),e("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white",height:"220"}},[e("van-swipe-item",[e("img",{staticClass:"homeimg",attrs:{src:"http://liufusong.top:8080/img/swiper/1.png",alt:""}})]),e("van-swipe-item",[e("img",{staticClass:"homeimg",attrs:{src:"http://liufusong.top:8080/img/swiper/2.png",alt:""}})]),e("van-swipe-item",[e("img",{staticClass:"homeimg",attrs:{src:"http://liufusong.top:8080/img/swiper/3.png",alt:""}})])],1),e("van-grid",[e("van-grid-item",{attrs:{icon:"wap-home-o",text:"整租"}}),e("van-grid-item",{attrs:{icon:"friends-o",text:"合租"}}),e("van-grid-item",{attrs:{icon:"location-o",text:"地图找房"}}),e("van-grid-item",{attrs:{icon:"home-o",text:"去出租"}})],1)],1)},W=[],X={data(){return{value:""}}},Y=X,tt=(0,k.Z)(Y,V,W,!1,null,"3a44def8",null),et=tt.exports,nt=function(){var t=this,e=t._self._c;return e("div",[e("img",{staticClass:"img",attrs:{src:"http://liufusong.top:8080/img/profile/bg.png",alt:""}}),e("div",{staticClass:"info"},[e("van-image",{attrs:{round:"",width:"60",height:"60",src:"http://liufusong.top:8080"+t.uimg}}),e("span",{staticClass:"uname"},[t._v(t._s(t.uname))]),e("div",{staticClass:"buttom",on:{click:t.escFn}},[t._v(t._s(t.flag?"退出":"去登陆"))]),e("br"),e("span",{staticClass:"edit_info"},[t._v(t._s(t.flag?"编辑个人资料":""))])],1),e("van-grid",{attrs:{"column-num":3,clickable:""}},[e("van-grid-item",{attrs:{icon:"star-o",text:"我的收藏",to:"/favorate"}}),e("van-grid-item",{attrs:{icon:"wap-home-o",text:"我的出租",to:"/rent"}}),e("van-grid-item",{attrs:{icon:"clock-o",text:"看房记录"}}),e("van-grid-item",{attrs:{icon:"idcard",text:"成为房主"}}),e("van-grid-item",{attrs:{icon:"user-o",text:"个人资料"}}),e("van-grid-item",{attrs:{icon:"service-o",text:"联系我们"}})],1),e("img",{staticClass:"bottom_img",attrs:{src:"http://liufusong.top:8080/img/profile/join.png",alt:""}})],1)},it=[],st={data(){return{uname:"",uimg:"",flag:""}},methods:{escFn(){this.flag?this.$dialog.confirm({title:"提示",message:"是否确定退出?"}).then((()=>{q(),this.$router.go(0)})):this.$router.push("/login")}},async created(){const t=I();if(t){const e=await H(t);this.uname=e.data.body.nickname,this.uimg=e.data.body.avatar,this.uname&&(this.flag=!0)}else this.uname="游客",this.uimg="/img/profile/avatar.png"}},at=st,ot=(0,k.Z)(at,nt,it,!1,null,null,null),rt=ot.exports,lt=function(){var t=this;t._self._c;return t._m(0)},ut=[function(){var t=this,e=t._self._c;return e("div",[e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")]),e("h1",[t._v("资讯")])])}],ct={},vt=ct,ht=(0,k.Z)(vt,lt,ut,!1,null,null,null),ft=ht.exports,mt=function(){var t=this,e=t._self._c;return e("div",[e("keep-alive",[e("router-view")],1),e("van-tabbar",{attrs:{route:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[e("van-tabbar-item",{attrs:{name:"home",icon:"wap-home-o",to:"/home"}},[t._v("首页")]),e("van-tabbar-item",{attrs:{name:"find",icon:"search",to:"/home/find"}},[t._v("找房")]),e("van-tabbar-item",{attrs:{name:"news",icon:"newspaper-o",to:"/home/news"}},[t._v("资讯")]),e("van-tabbar-item",{attrs:{name:"my",icon:"contact",to:"/home/my"}},[t._v("我的")])],1)],1)},dt=[],pt={data(){return{active:0}}},gt=pt,_t=(0,k.Z)(gt,mt,dt,!1,null,null,null),bt=_t.exports,Zt=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"房屋收藏","left-text":"返回","right-text":"按钮","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t){return e("houseinfo",{key:t.houseCode,attrs:{item:t}})})),1)],1)},wt=[];const xt=()=>E.get("/user/houses"),yt=()=>E.get("/user/favorites");var Pt=function(){var t=this,e=t._self._c;return e("van-cell",[e("img",{staticClass:"cell_img",attrs:{src:"http://liufusong.top:8080"+t.item.houseImg}}),e("p",{staticClass:"cell_name"},[t._v(t._s(t.item.title))]),e("p",{staticClass:"cell_info"},[t._v(t._s(t.item.desc))]),e("div",{staticClass:"cell_good"},[t._v(t._s(t.item.tags[0]))]),e("div",{staticClass:"cell_price"},[t._v(" "+t._s(t.item.price)+" "),e("span",{staticClass:"cell_mouth"},[t._v("元/月")])])])},kt=[],Ct={props:{item:Object}},Ot=Ct,jt=(0,k.Z)(Ot,Pt,kt,!1,null,null,null),St=jt.exports,$t={components:{houseinfo:St},data(){return{list:[],loading:!1,finished:!1,refreshing:!1}},methods:{async onLoad(){const t=await xt();this.list.push(...t.data.body),this.finished=!0}}},Lt=$t,Ft=(0,k.Z)(Lt,Zt,wt,!1,null,null,null),It=Ft.exports,Tt=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"房屋管理","left-text":"返回","right-text":"按钮","left-arrow":""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(t){return e("houseinfo",{key:t.houseCode,attrs:{item:t}})})),1)],1)},qt=[],zt={components:{houseinfo:St},data(){return{list:[],loading:!1,finished:!1,refreshing:!1}},methods:{async onLoad(){const t=await yt();this.list.push(...t.data.body),this.finished=!0}}},Et=zt,Kt=(0,k.Z)(Et,Tt,qt,!1,null,null,null),Ht=Kt.exports;Z.ZP.use(j.ZP);const Mt=[{path:"/",component:bt,children:[{path:"home",component:et},{path:"home/find",component:Q},{path:"home/news",component:ft},{path:"home/my",component:rt}]},{path:"/login",component:U},{path:"/rent",component:It},{path:"/favorate",component:Ht}],Nt=new j.ZP({routes:Mt});var Rt=Nt;Z.ZP.use(b.Z),Z.ZP.use(_.Z),Z.ZP.use(g.Z),Z.ZP.use(p.Z),Z.ZP.use(d.Z),Z.ZP.use(m.Z),Z.ZP.use(f.Z),Z.ZP.use(h.Z),Z.ZP.use(v.Z),Z.ZP.use(c.Z),Z.ZP.use(u.Z),Z.ZP.use(l.Z),Z.ZP.use(r.Z),Z.ZP.use(o.Z),Z.ZP.use(a.Z),Z.ZP.use(s.Z),Z.ZP.use(i.Z),Z.ZP.config.productionTip=!1,new Z.ZP({router:Rt,render:t=>t(O)}).$mount("#app")}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,a){if(!i){var o=1/0;for(c=0;c<t.length;c++){i=t[c][0],s=t[c][1],a=t[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(r=!1,a<o&&(o=a));if(r){t.splice(c--,1);var u=s();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[i,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,o=i[0],r=i[1],l=i[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var c=l(n)}for(e&&e(i);u<o.length;u++)a=o[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},i=self["webpackChunkrent"]=self["webpackChunkrent"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(8311)}));i=n.O(i)})();
//# sourceMappingURL=app.28efa2f7.js.map